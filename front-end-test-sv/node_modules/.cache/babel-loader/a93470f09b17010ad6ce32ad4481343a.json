{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\test-sv-fullstack-master (1)\\\\test-sv-fse\\\\front-end-test-sv\\\\src\\\\pages\\\\preview.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { getAllArticleWithLimit } from \"../api/article\";\nimport Layout from \"../layout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Preview = () => {\n  _s();\n\n  let [searchParams] = useSearchParams();\n  const [pages, setPages] = useState(searchParams.get(\"page\") ? parseInt(searchParams.get(\"page\")) : 1);\n  const [limit, setLimit] = useState(3);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [article, setArticle] = useState([]);\n  const [pagination, setPagination] = useState([1, 2, 3, 4, 5]);\n\n  const getArticle = async (limit, offset) => {\n    const response = await getAllArticleWithLimit(limit, offset);\n\n    if (response.statusCode === 200) {\n      setTotal(response.data.total);\n      setArticle(response.data.article);\n      generatePagination(response.data.total);\n    } else {\n      swal(\"Oops\", response.error, \"error\");\n    }\n  };\n\n  const generatePagination = total => {\n    let paging = [];\n\n    for (let i = 1; i <= Math.ceil(total / limit); i++) {\n      paging.push(i);\n    }\n\n    setPagination(paging);\n  };\n\n  const changePage = page => {\n    const offsetData = page * limit - limit;\n    setOffset(offsetData);\n    setPages(page);\n  };\n\n  useEffect(() => {\n    getArticle(limit, offset); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pages, limit]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-slate-700\",\n        children: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 mt-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Show :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => {\n            changePage(1);\n            setLimit(parseInt(e.target.value));\n          },\n          className: \"border p-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 5,\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 10,\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"of \", total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 grid grid-cols-4 gap-4\",\n        children: article.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 border border-slate-500 rounded-md shadow-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-bold text-lg text-slate-700\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-4 text-slate-500\",\n              children: [\"category : \", item.category]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-4 text-md text-slate-700 line-clamp-5\",\n              children: item.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex space-x-2 mt-5 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changePage(pages - 1),\n          disabled: pages === 1,\n          className: `${pages === 1 ? \"text-slate-300\" : \"text-slate-700\"}`,\n          children: \"previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), pagination.map(index => {\n          return index === pages ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-500\",\n            children: index\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-slate-700\",\n            onClick: () => changePage(index),\n            children: index\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changePage(pages + 1),\n          disabled: pages === pagination.at(-1),\n          className: `${pages === pagination.at(-1) ? \"text-slate-300\" : \"text-slate-700\"}`,\n          children: \"next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Preview, \"8JXqI+KCa//3JjkHhIsNLfT2lNU=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = Preview;\nexport default Preview;\n\nvar _c;\n\n$RefreshReg$(_c, \"Preview\");","map":{"version":3,"names":["useEffect","useState","useSearchParams","swal","getAllArticleWithLimit","Layout","Preview","searchParams","pages","setPages","get","parseInt","limit","setLimit","total","setTotal","offset","setOffset","article","setArticle","pagination","setPagination","getArticle","response","statusCode","data","generatePagination","error","paging","i","Math","ceil","push","changePage","page","offsetData","e","target","value","map","item","title","category","content","id","index","at"],"sources":["D:/Downloads/test-sv-fullstack-master (1)/test-sv-fse/front-end-test-sv/src/pages/preview.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { getAllArticleWithLimit } from \"../api/article\";\nimport { ArticleTypes } from \"../api/data-type/article\";\nimport Layout from \"../layout\";\n\nconst Preview = () => {\n  let [searchParams] = useSearchParams();\n  const [pages, setPages] = useState<number>(\n    searchParams.get(\"page\") ? parseInt(searchParams.get(\"page\")!) : 1\n  );\n  const [limit, setLimit] = useState(3);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [article, setArticle] = useState<ArticleTypes[]>([]);\n  const [pagination, setPagination] = useState([1, 2, 3, 4, 5]);\n\n  const getArticle = async (limit: number, offset: number) => {\n    const response = await getAllArticleWithLimit(limit, offset);\n\n    if (response.statusCode === 200) {\n      setTotal(response.data.total);\n      setArticle(response.data.article);\n      generatePagination(response.data.total);\n    } else {\n      swal(\"Oops\", response.error, \"error\");\n    }\n  };\n\n  const generatePagination = (total: number) => {\n    let paging = [];\n    for (let i = 1; i <= Math.ceil(total / limit); i++) {\n      paging.push(i);\n    }\n    setPagination(paging);\n  };\n\n  const changePage = (page: number) => {\n    const offsetData = page * limit - limit;\n    setOffset(offsetData);\n    setPages(page);\n  };\n\n  useEffect(() => {\n    getArticle(limit, offset);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pages, limit]);\n\n  return (\n    <Layout>\n      <div className='p-10'>\n        <h1 className='text-2xl font-bold text-slate-700'>Preview</h1>\n        <div className='flex items-center space-x-2 mt-10'>\n          <p>Show :</p>\n          <select\n            onChange={(e) => {\n              changePage(1);\n              setLimit(parseInt(e.target.value));\n            }}\n            className='border p-1'>\n            <option value={3}>3</option>\n            <option value={5}>5</option>\n            <option value={10}>10</option>\n          </select>\n          <p>of {total}</p>\n        </div>\n\n        <div className='mt-10 grid grid-cols-4 gap-4'>\n          {article.map((item) => {\n            return (\n              <div\n                key={item.id}\n                className='p-2 border border-slate-500 rounded-md shadow-md'>\n                <h2 className='font-bold text-lg text-slate-700'>\n                  {item.title}\n                </h2>\n                <p className='mt-4 text-slate-500'>\n                  category : {item.category}\n                </p>\n                <p className='mt-4 text-md text-slate-700 line-clamp-5'>\n                  {item.content}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n        <div className='w-full flex space-x-2 mt-5 justify-center'>\n          <button\n            onClick={() => changePage(pages - 1)}\n            disabled={pages === 1}\n            className={`${pages === 1 ? \"text-slate-300\" : \"text-slate-700\"}`}>\n            previous\n          </button>\n          {pagination.map((index: number) => {\n            return index === pages ? (\n              <p className='text-blue-500'>{index}</p>\n            ) : (\n              <button\n                className='text-slate-700'\n                onClick={() => changePage(index)}>\n                {index}\n              </button>\n            );\n          })}\n          <button\n            onClick={() => changePage(pages + 1)}\n            disabled={pages === pagination.at(-1)}\n            className={`${\n              pages === pagination.at(-1) ? \"text-slate-300\" : \"text-slate-700\"\n            }`}>\n            next\n          </button>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Preview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
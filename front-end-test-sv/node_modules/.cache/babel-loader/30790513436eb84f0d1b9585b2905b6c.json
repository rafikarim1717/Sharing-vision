{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\test-sv-fullstack-master (1)\\\\test-sv-fse\\\\front-end-test-sv\\\\src\\\\pages\\\\edit.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { editArticle, getArticleById } from \"../api/article\";\nimport Layout from \"../layout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  let {\n    id\n  } = useParams();\n  let navigate = useNavigate();\n  const [article, setArticle] = useState({\n    id: \"\",\n    title: \"\",\n    content: \"\",\n    category: \"\",\n    status: \"\"\n  });\n\n  const getArticle = async () => {\n    const response = await getArticleById(id);\n\n    if (response.statusCode === 200) {\n      setArticle(response.data);\n    } else {\n      swal(\"Oops\", response.error, \"error\");\n      navigate(-1);\n    }\n  };\n\n  const handleChange = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setArticle({ ...article,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async statusArticle => {\n    if (article.title.length === 0) {\n      swal(\"Oops\", \"please input a title\", \"warning\");\n      return;\n    }\n\n    if (article.content.length === 0) {\n      swal(\"Oops\", \"please input a content\", \"warning\");\n      return;\n    }\n\n    if (article.category.length === 0) {\n      swal(\"Oops\", \"please input a category\", \"warning\");\n      return;\n    }\n\n    const payload = {\n      title: article.title,\n      content: article.content,\n      category: article.category,\n      status: statusArticle\n    };\n    const response = await editArticle(article.id, JSON.stringify(payload));\n\n    if (response.statusCode === 200) {\n      swal(\"Success\", \"Success edit article\", \"success\");\n      navigate(\"/post\");\n    } else {\n      swal(\"Oops\", \"Fail edit article\", \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getArticle(); // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-10/12 p-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-10 text-xl font-bold text-slate-700\",\n        children: \"Edit Article\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full border p-1 rounded-md\",\n          onChange: handleChange,\n          name: \"title\",\n          value: article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5 flex flex-col space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Content :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"w-full border p-1 rounded-md\",\n          onChange: handleChange,\n          name: \"content\",\n          rows: 8,\n          value: article.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5 flex flex-col space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Category :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full border p-1 rounded-md\",\n          onChange: handleChange,\n          name: \"category\",\n          value: article.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 flex space-x-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSubmit(\"Published\"),\n          className: \"bg-green-500 text-white px-5 py-2 rounded-md\",\n          children: \"Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSubmit(\"Draft\"),\n          className: \"bg-blue-500 text-white px-5 py-2 rounded-md\",\n          children: \"Draft\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Edit, \"dxwQtMplXILNYKrWQtu+1TS+xEU=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useParams","swal","editArticle","getArticleById","Layout","Edit","id","navigate","article","setArticle","title","content","category","status","getArticle","response","statusCode","data","error","handleChange","e","value","name","target","handleSubmit","statusArticle","length","payload","JSON","stringify"],"sources":["D:/Downloads/test-sv-fullstack-master (1)/test-sv-fse/front-end-test-sv/src/pages/edit.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { editArticle, getArticleById } from \"../api/article\";\nimport Layout from \"../layout\";\n\nconst Edit = () => {\n    let { id } = useParams();\n    let navigate = useNavigate();\n    const [article, setArticle] = useState({\n        id: \"\",\n        title: \"\",\n        content: \"\",\n        category: \"\",\n        status: \"\"\n    });\n\n    const getArticle = async () => {\n        const response = await getArticleById(id!);\n        if (response.statusCode === 200) {\n            setArticle(response.data);\n        } else {\n            swal(\"Oops\", response.error, \"error\");\n            navigate(-1);\n        }\n    }\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { value, name } = e.target;\n        setArticle({ ...article, [name]: value })\n    }\n\n    const handleSubmit = async (statusArticle: string) => {\n        if (article.title.length === 0) {\n            swal(\"Oops\", \"please input a title\", \"warning\")\n            return;\n        }\n\n        if (article.content.length === 0) {\n            swal(\"Oops\", \"please input a content\", \"warning\")\n            return;\n        }\n\n        if (article.category.length === 0) {\n            swal(\"Oops\", \"please input a category\", \"warning\")\n            return;\n        }\n\n        const payload = {\n            title: article.title,\n            content: article.content,\n            category: article.category,\n            status: statusArticle\n        }\n\n        const response = await editArticle(article.id, JSON.stringify(payload));\n        if (response.statusCode === 200) {\n            swal(\"Success\", \"Success edit article\", \"success\")\n            navigate(\"/post\");\n        } else {\n            swal(\"Oops\", \"Fail edit article\", \"error\")\n        }\n    }\n\n    useEffect(() => {\n        getArticle();\n        // eslint-disable-next-line\n    }, [])\n\n    return <Layout>\n        <div className=\"w-10/12 p-10\">\n            <h1 className=\"mb-10 text-xl font-bold text-slate-700\">Edit Article</h1>\n            <div className=\"flex flex-col space-y-2\">\n                <label>Title :</label>\n                <input className=\"w-full border p-1 rounded-md\" onChange={handleChange} name=\"title\" value={article.title} />\n            </div>\n            <div className=\"mt-5 flex flex-col space-y-2\">\n                <label>Content :</label>\n                <textarea className=\"w-full border p-1 rounded-md\" onChange={handleChange} name=\"content\" rows={8} value={article.content}></textarea>\n            </div>\n            <div className=\"mt-5 flex flex-col space-y-2\">\n                <label>Category :</label>\n                <input className=\"w-full border p-1 rounded-md\" onChange={handleChange} name=\"category\" value={article.category} />\n            </div>\n            <div className=\"mt-10 flex space-x-5\">\n                <button onClick={() => handleSubmit(\"Published\")} className=\"bg-green-500 text-white px-5 py-2 rounded-md\">Publish</button>\n                <button onClick={() => handleSubmit(\"Draft\")} className=\"bg-blue-500 text-white px-5 py-2 rounded-md\">Draft</button>\n            </div>\n        </div>\n    </Layout >\n}\n\nexport default Edit;"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,gBAA5C;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACf,IAAI;IAAEC;EAAF,IAASN,SAAS,EAAtB;EACA,IAAIO,QAAQ,GAAGR,WAAW,EAA1B;EACA,MAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC;IACnCQ,EAAE,EAAE,EAD+B;IAEnCI,KAAK,EAAE,EAF4B;IAGnCC,OAAO,EAAE,EAH0B;IAInCC,QAAQ,EAAE,EAJyB;IAKnCC,MAAM,EAAE;EAL2B,CAAD,CAAtC;;EAQA,MAAMC,UAAU,GAAG,YAAY;IAC3B,MAAMC,QAAQ,GAAG,MAAMZ,cAAc,CAACG,EAAD,CAArC;;IACA,IAAIS,QAAQ,CAACC,UAAT,KAAwB,GAA5B,EAAiC;MAC7BP,UAAU,CAACM,QAAQ,CAACE,IAAV,CAAV;IACH,CAFD,MAEO;MACHhB,IAAI,CAAC,MAAD,EAASc,QAAQ,CAACG,KAAlB,EAAyB,OAAzB,CAAJ;MACAX,QAAQ,CAAC,CAAC,CAAF,CAAR;IACH;EACJ,CARD;;EAUA,MAAMY,YAAY,GAAIC,CAAD,IAAkE;IACnF,MAAM;MAAEC,KAAF;MAASC;IAAT,IAAkBF,CAAC,CAACG,MAA1B;IACAd,UAAU,CAAC,EAAE,GAAGD,OAAL;MAAc,CAACc,IAAD,GAAQD;IAAtB,CAAD,CAAV;EACH,CAHD;;EAKA,MAAMG,YAAY,GAAG,MAAOC,aAAP,IAAiC;IAClD,IAAIjB,OAAO,CAACE,KAAR,CAAcgB,MAAd,KAAyB,CAA7B,EAAgC;MAC5BzB,IAAI,CAAC,MAAD,EAAS,sBAAT,EAAiC,SAAjC,CAAJ;MACA;IACH;;IAED,IAAIO,OAAO,CAACG,OAAR,CAAgBe,MAAhB,KAA2B,CAA/B,EAAkC;MAC9BzB,IAAI,CAAC,MAAD,EAAS,wBAAT,EAAmC,SAAnC,CAAJ;MACA;IACH;;IAED,IAAIO,OAAO,CAACI,QAAR,CAAiBc,MAAjB,KAA4B,CAAhC,EAAmC;MAC/BzB,IAAI,CAAC,MAAD,EAAS,yBAAT,EAAoC,SAApC,CAAJ;MACA;IACH;;IAED,MAAM0B,OAAO,GAAG;MACZjB,KAAK,EAAEF,OAAO,CAACE,KADH;MAEZC,OAAO,EAAEH,OAAO,CAACG,OAFL;MAGZC,QAAQ,EAAEJ,OAAO,CAACI,QAHN;MAIZC,MAAM,EAAEY;IAJI,CAAhB;IAOA,MAAMV,QAAQ,GAAG,MAAMb,WAAW,CAACM,OAAO,CAACF,EAAT,EAAasB,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAb,CAAlC;;IACA,IAAIZ,QAAQ,CAACC,UAAT,KAAwB,GAA5B,EAAiC;MAC7Bf,IAAI,CAAC,SAAD,EAAY,sBAAZ,EAAoC,SAApC,CAAJ;MACAM,QAAQ,CAAC,OAAD,CAAR;IACH,CAHD,MAGO;MACHN,IAAI,CAAC,MAAD,EAAS,mBAAT,EAA8B,OAA9B,CAAJ;IACH;EACJ,CA9BD;;EAgCAJ,SAAS,CAAC,MAAM;IACZiB,UAAU,GADE,CAEZ;EACH,CAHQ,EAGN,EAHM,CAAT;EAKA,oBAAO,QAAC,MAAD;IAAA,uBACH;MAAK,SAAS,EAAC,cAAf;MAAA,wBACI;QAAI,SAAS,EAAC,wCAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAK,SAAS,EAAC,yBAAf;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,SAAS,EAAC,8BAAjB;UAAgD,QAAQ,EAAEK,YAA1D;UAAwE,IAAI,EAAC,OAA7E;UAAqF,KAAK,EAAEX,OAAO,CAACE;QAApG;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAMI;QAAK,SAAS,EAAC,8BAAf;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAU,SAAS,EAAC,8BAApB;UAAmD,QAAQ,EAAES,YAA7D;UAA2E,IAAI,EAAC,SAAhF;UAA0F,IAAI,EAAE,CAAhG;UAAmG,KAAK,EAAEX,OAAO,CAACG;QAAlH;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ,eAUI;QAAK,SAAS,EAAC,8BAAf;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,SAAS,EAAC,8BAAjB;UAAgD,QAAQ,EAAEQ,YAA1D;UAAwE,IAAI,EAAC,UAA7E;UAAwF,KAAK,EAAEX,OAAO,CAACI;QAAvG;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAVJ,eAcI;QAAK,SAAS,EAAC,sBAAf;QAAA,wBACI;UAAQ,OAAO,EAAE,MAAMY,YAAY,CAAC,WAAD,CAAnC;UAAkD,SAAS,EAAC,8CAA5D;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAQ,OAAO,EAAE,MAAMA,YAAY,CAAC,OAAD,CAAnC;UAA8C,SAAS,EAAC,6CAAxD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAdJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADG;IAAA;IAAA;IAAA;EAAA,QAAP;AAqBH,CApFD;;GAAMnB,I;UACWL,S,EACED,W;;;KAFbM,I;AAsFN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}